<!DOCTYPE html>
<html>

<head>
    <meta charset="ISO-8859-1">
    <style type="text/css">
        #titletab {
            text-transform: uppercase;
            font-weight: bolder;
            font-size: 35px;
            text-decoration: underline;
        }

        #next-titletab {
            text-transform: uppercase;
            margin-top: 10px;
            font-weight: bold;
            color: #cf368b;
        }

        td .btn-grn {
            display: inline-block;
            width: 80px;
            height: 30px;
            background: #28a745;
            color: white;
            cursor: pointer;
        }

        .ead-class {
            color: blue;
            text-decoration: underline;
            font-weight: bold;
            cursor: pointer;
        }

        .smalltexthelp {
            padding-left: 15px;
            margin-top: 20px !important;
            margin-bottom: 20px;
            font-weight: bold;
            text-transform: capitalize;
        }

        .scan-find-label {
            text-transform: uppercase;
            width: 28%;
            text-align: center;
            vertical-align: middle;
            color: blue;
            font-weight: bold;
            margin-top: 20px;
        }

        #overlay {
            position: fixed;
            left: 0%;
            top: 0%;
            z-index: 9999;
            width: 100%;
            background: rgba(255, 255, 255, .7);
            height: 100%;
        }

        #loader {
            position: fixed;
            display: block;
            left: 50%;
            top: 48%;
            z-index: 9999;
            width: 100%;
            height: 100%;
            background-image: url(images/report/loader.gif);
            background-repeat: no-repeat;
            margin: -77px 0 0 -75px;
        }

        a.nav-link,
        a.nav-link:hover {
            font-weight: bold;
            color: black;
            text-transform: uppercase;
            font-size: 20px;
        }

        .nav-pills .nav-link.active,
        .nav-pills .show>.nav-link {
            background: #0a3052 !important;
        }

        table.dataTable thead th,
        table.dataTable td {
            word-break: break-word;
        }

        .ta-left {
            text-align: left;
        }

        .form-control[readonly] {
            background: white !important;
        }

        .ui-widget-content .ui-icon {
            background-image: url(images/report/ui-icons_222222_256x240.png) !important;
        }

        #documentFileTxt {
            cursor: not-allowed;
            background: white;
            width: 100%;
            height: 38px;
            border: 1px solid #ced4da;
            padding: 10px;
        }

        .upload-btn {
            display: inline-block;
            background: rgb(153, 153, 153);
            color: rgb(255, 255, 255);
            padding: 3px 15px;
            font-size: 13px;
            border-radius: 3px;
            cursor: pointer;
            overflow: hidden;
            position: absolute;
            right: 25px;
            top: 6px;
        }

        .view-btn {
            display: inline-block;
            background: rgb(153, 153, 153);
            color: rgb(255, 255, 255);
            padding: 3px 15px;
            font-size: 13px;
            border-radius: 3px;
            cursor: pointer;
            overflow: hidden;
            position: absolute;
            right: 100px;
            top: 6px;
        }

        .delete-btn {
            display: inline-block;
            background: rgb(153, 153, 153);
            color: rgb(255, 255, 255);
            padding: 3px 15px;
            font-size: 13px;
            border-radius: 3px;
            cursor: pointer;
            overflow: hidden;
            position: absolute;
            right: 25px;
            top: 6px;
        }

        .pdf-icon {
            color: red;
            position: absolute;
            top: 13px;
            left: 25px;
            font-weight: 500;
        }

        .pl-25 {
            padding-left: 25px !important;
        }
        
        #ooccancelhistorytable tbody tr:hover {
	        background: #28a745 !important;
	        font-weight: bold;
	        cursor: pointer;
	        color: white;
    	}

    	#tooltip {
	        position: absolute;
	        z-index: 1001;
	        display: none;
	        border: 2px solid #000;
	        color: #fff;
	        font-weight: bold;
	        border-radius: 5px;
	        padding: 10px;
	        background-color: #000;
	        cursor: pointer;
    	}
    	
    	.blink-span {
    		color: red;
    		font-weight: bold;
    		text-transform: uppercase;
    	}
    	
    	.blink-span {
  			animation: blink-animation 1s steps(5, start) infinite;
  			-webkit-animation: blink-animation 1s steps(5, start) infinite;
		}

		@keyframes blink-animation {
		  to {
		    visibility: hidden;
		  }
		}
		
		@-webkit-keyframes blink-animation {
		  to {
		    visibility: hidden;
		  }
		}
		
		
		.swal-button {
	        background-color: #35b935;
	        color:#fff;
	        box-shadow: none;
	    }
	    
	    .swal-button--cancel{
		    color:#fff;
		    background-color: #f14141;
		    box-shadow: none;
	    }
	    
	     .swal-button:not([disabled]):hover {
	        background-color: #35b935;
	        color:#fff;
	    }
	    
	    .swal-button--cancel:not([disabled]):hover {
		    color:#fff;
		    background-color: #f14141;
        }
        
        .swal-button:active {
        	background-color: #35b935;
	        color:#fff;
        }
        
        .swal-footer{
        	display: flex;
    		justify-content: space-around;
    		gap:250px;
    	}   

	.swal-button:focus {
        	outline: none !important;
        	box-shadow: none !important;
     	 }
		
		
		
    </style>
</head>

<head lang="en" th:replace="header :: header"></head>

<body>
    <div id="overlay">
        <div id="loader">
        <div style="font-size: 20px; padding-top:5%"><b>Please wait...</b>
		</div>
        </div>
    </div>
    <input type="hidden" id="roleAppraiser" th:value="${roleAppraiser}">
    <input type="hidden" id="role" th:value="${role}">
    
 
    <div class="mt-3" style="background-color: #f8f9fa; padding: 15px;">
        <div align="center">
            <span id="titletab" class="form_txt" th:text="${'ooc cancellation - '+session.data2}"></span>
        </div>
        <ul th:if="${roleAppraiser==session.data1}" class="nav nav-pills" role="tablist" style="width: 100%; border: 2px solid; border-radius: 7px; margin-bottom: 20px; margin-top: 20px;">
            <li onclick="switchDiv('oocCancelInitialDiv','oocCancelProcessDiv','oocCancelHistoryDiv')" class="nav-item" style="width: 33%; text-align: center;"><a class="nav-link active show" data-toggle="pill" href="javascript:;">Initiate OOC Cancellation</a></li>
            <li onclick="switchDiv('oocCancelProcessDiv','oocCancelInitialDiv','oocCancelHistoryDiv')" class="nav-item" style="width: 33%; text-align: center;"><a class="nav-link" data-toggle="pill" href="javascript:;">Process OOC Cancellation</a></li>
            <li onclick="switchDiv('oocCancelHistoryDiv','oocCancelProcessDiv','oocCancelInitialDiv')" class="nav-item" style="width: 34%; text-align: center;"><a class="nav-link" data-toggle="pill" href="javascript:;">Ooc cancelled History</a></li>
        </ul>
        <ul th:unless="${roleAppraiser==session.data1}" class="nav nav-pills" role="tablist" style="width: 100%; border: 2px solid; border-radius: 7px; margin-bottom: 20px; margin-top: 20px;">
            <li onclick="switchDiv('oocCancelProcessDiv','oocCancelInitialDiv','oocCancelHistoryDiv')" class="nav-item" style="width: 50%; text-align: center;"><a class="nav-link active show" data-toggle="pill" href="javascript:;">Process OOC Cancellation</a></li>
            <li onclick="switchDiv('oocCancelHistoryDiv','oocCancelProcessDiv','oocCancelInitialDiv')" class="nav-item" style="width: 50%; text-align: center;"><a class="nav-link" data-toggle="pill" href="javascript:;">Ooc cancelled History</a></li>
        </ul>
        <div id="oocCancelInitialDiv" th:if="${roleAppraiser==session.data1}">
	        <div class="" style="display: flex; justify-content: center;">
		        <div style="padding: 6px;">
     <input type="text" id="articleIdEntered" onkeyup="validateAndAddCharacters()"  maxlength="13" placeholder="ENTER ARTICLE ID" class="form-control form_txt" style="font-weight: bold;">
  </div>
		        <div style="padding: 5px;">
		            <button type="button" onclick="checkOocGiven()" class="btn btn-success">Submit</button>
		        </div>
	    	</div>
	    	<div id="oocCancelRemarksSection"></div>
        </div><div id="tooltip"></div>
        <div id="oocCancelProcessDiv" th:attr="style=${roleAppraiser==session.data1 ? 'display:none;' : 'display:initial;'}">
        	<div class="col-md-12">
                <table id="ooccancelprocesstable" class="table table-striped table-bordered mt-3 newtable" style="font-size: 16px; text-align: center;table-layout: fixed;">
                    <thead style="background-color: #a1c4e6;">
                        <tr>
                            <th scope="col" style="text-align: center; vertical-align: middle; width:40px;">S.NO</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">ARTICLE ID</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">ARTICLE DATE</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">ORIGIN COUNTRY</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">MAIL CLASS</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">ITEM CATEGORY</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">ARRIVAL OOE DATE</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">DESTINATION FPO DATE</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">OOC DATE</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">ACTION</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
        <div id="oocCancelHistoryDiv" style="display:none;">
        <div class="row" style="margin: 15px;padding-top: 15px;">
		   <span style="font-weight: bold;margin: 0;color: blue;text-transform: capitalize;position: relative;top: 5px;">
		      Select Date Range:
		      <p style="margin: 0;font-size: 12px;color: #bb0e0e;">(Date Of OOC Cancelled Articles in this module)</p>
		   </span>
		   <div class="col-sm-2" style="display: flex;">
		      <p style="font-weight: bold;margin: 0;margin-right: 20px;position: relative;top: 5px;">From:</p>
		      <input type="text" id="fromdatepicker" style="width: 100%;font-weight: bold;text-align: center;" placeholder="Select From Date" readonly="" class="picker form-control form_txt change">
		   </div>
		   <div class="col-sm-2" style="display: flex;">
		      <p style="font-weight: bold;margin: 0;margin-right: 20px;position: relative;top: 5px;">To:</p>
		      <input type="text" id="todatepicker" style="width: 100%;font-weight: bold;text-align: center;" placeholder="Select To Date" readonly="" class="picker form-control form_txt change">
		   </div>
		   <button type="button" onclick="getOocCancelHistory()" class="btn btn-success">Submit</button>
		   <button type="button" onclick="resetOocCancelHistory()" class="btn" style="margin-left: 10px;background: #d14e4e;color: white;">Reset</button>
		</div>
		<small class="form-text text-muted smalltexthelp" style="color: blue !important;"><span style="color: red;">**</span>
		Note : OOC cancelled articles during the current month only is listed below. Select Date range for the previous period of OOC cancelled articles.</small>
            <div class="col-md-12">
                <table id="ooccancelhistorytable" class="table table-striped table-bordered mt-3 newtable" style="font-size: 16px; text-align: center;table-layout: fixed;">
                    <thead style="background-color: #a1c4e6;">
                        <tr>
                            <th scope="col" style="text-align: center; vertical-align: middle; width:40px;">S.NO</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">ARTICLE ID</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">ARTICLE DATE</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">ORIGIN COUNTRY</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">MAIL CLASS</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">ITEM CATEGORY</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">ARRIVAL OOE DATE</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">DESTINATION FPO DATE</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">OOC DATE</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">OOC CANCELLED STATUS</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">OOC CANCELLED DATE</th>
                            <th scope="col" style="text-align: center; vertical-align: middle;">CURRENT STATUS</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>

    <div class="modal fade" id="oocCancelRemarkModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="overflow:auto;" data-keyboard="false" data-backdrop="static">
        <div class="modal-dialog modal-dialog-centered" role="document" style="width: auto; height: auto;max-width: 85%;">
            <div class="modal-content">
                <div class="modal-header" style="background: #d9ecff;">
                    <h5 class="modal-title" id="oocCancelRemarkTitle" style="font-weight: bold;text-transform: uppercase;"></h5>
                    <button type="button" class="close" onclick="closeOocCancelModal()" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="oocCancelRemarkBody" style="background: #d9ecff;">
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="deptCommentsModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="overflow:auto;" data-keyboard="false" data-backdrop="static">
        <div class="modal-dialog modal-dialog-centered" role="document" style="width: auto; height: auto;max-width: 85%;">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deptCommentsTitle" style="font-weight: bold;text-transform: uppercase;"></h5>
                    <button type="button" class="close" onclick="closeDeptCommentsModal()" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="deptCommentsBody">
                </div>
            </div>
        </div>
    </div>
    
    <Modal>
<div class="modal fade" id="summaryModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="overflow:auto;" data-keyboard="false" data-backdrop="static">
        <div class="modal-dialog modal-dialog-centered" role="document" style="width: auto; height: auto;max-width: 85%;">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="summaryModalTitle" style="font-weight: bold;text-transform: uppercase;">Article Summary</h5>
                    <button type="button" class="close" onclick="closeSummaryModal()" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="summaryModalBody">
                </div>
                	<div  align="center">
					<button type="button" class="btn btn-info" data-dismiss="modal" onclick="closeSummaryModal()" style="background-color:green">OK</button>
					</div>
            </div>
        </div>
    </div>
</Modal>
  </body>
  </html>
 <script src="js/ooccancel.js"></script>
