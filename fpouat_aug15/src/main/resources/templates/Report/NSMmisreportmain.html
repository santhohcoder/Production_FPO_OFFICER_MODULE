<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>MIS Report</title>
<style type="text/css">
.ui-widget-content .ui-icon {
	background-image: url(images/report/ui-icons_222222_256x240.png)
		!important;
}

.error-date {
	color: red;
}

.swal-button {
	        background-color: #35b935;
	        color:#fff;
	        box-shadow: none;
	    }
	    
	    .swal-button--cancel{
		    color:#fff;
		    background-color: #f14141;
		    box-shadow: none;
	    }
	    
	     .swal-button:not([disabled]):hover {
	        background-color: #35b935;
	        color:#fff;
	    }
	    
	    .swal-button--cancel:not([disabled]):hover {
		    color:#fff;
		    background-color: #f14141;
        }
        
        .swal-button:active {
        	background-color: #35b935;
	        color:#fff;
        }
        
        .swal-footer{
        	display: flex;
    		justify-content: space-around;
    		gap:250px;
    	}   

	.swal-button:focus {
        	outline: none !important;
        	box-shadow: none !important;
     	 }


.ead_decisions {
	border-radius: 5px;
	padding: 2px;
	font-size: 11px;
	background-color: darkblue;
	font-size: 14px;
	width: 450px;
	color: white;
}

.lab_txt, .col-form-label {
	font-size: 12px;
	color: blue;
}

.table-bordered thead td, .table-bordered thead th {
	border-bottom-width: 1px;
}

.table thead th {
	vertical-align: bottom;
	border-bottom: 1px solid #040404;
}

.table-bordered td, .table-bordered th {
	border: 1px solid #000000;
}

.form_txt {
	font-weight: 700
}

.bg_rec {
	background-color: #e6e5e5;
	border-radius: 10px;
	padding: 10px;
}

.lab_txt {
	font-size: 13px;
	font-weight: 700;
	color: blue;
}

.col-form-label {
	padding-top: 2px;
	font-size: 13px;
	font-weight: 700;
	color: blue;
}

.col-form-label {
	padding-top: 2px;
}

.breadcrumb-pagination {
	width: 100%;
	border-bottom: 1px solid #E1E6EB;
	text-align: center;
	color: #B3B7C1;
}

.breadcrumb-pagination div {
	width: 15%;
	display: inline-block;
}

.breadcrumb-pagination div span {
	margin: 0 auto;
	display: block;
	border-radius: 100%;
	width: 36px;
	font-size: 20px;
}

.completed span {
	background-color: NONE;
	color: #95db89;
	border: 2px solid #95db89;
}

.active1 span {
	background-color: #00abc9;
	color: #fff;
}

.todo span {
	background-color: none;
	color: #E1E6EB;
	border: 2px solid #E1E6EB;
}

.breadcrumb-pagination div p {
	text-align: center;
	line-height: 0;
	margin: 10px auto 0px;
}

.active1 p {
	border-bottom: 2px solid #00abc9;
	padding-bottom: 20px;
	margin-bottom: 0px !important;
	color: #3c4043;
	font-weight: 700;
}

.scroll_down {
	width: 310%;
	height: 69px;
	overflow-x: hidden;
	overflow-y: auto;
}

.completed p {
	color: "#bsb7c1;"
}

.completed span::before {
	content: '\2713'
}

li {
	cursor: pointer;
}

.countlable {
	display: inline;
	height: 24px;
	padding: 2px 5px;
	border-radius: 7px;
	font-size: 12px;
	font-weight: 600;
	background-color: yellow;
}

.countlable:hover {
	cursor: default;
}

.dataTables_scrollBody {
	height: 100% !important;
}

.buttons-excel {
	display: none;
}

#overlay {
	position: absolute;
	left: 0%;
	top: 0%;
	z-index: 9999;
	width: 100%;
	background: rgba(255, 255, 255, .7);
}

#loader {
	position: fixed;
	display: block;
	left: 50%;
	top: 48%;
	z-index: 9999;
	width: 100%;
	height: 100%;
	background-image: url(images/report/loader.gif);
	background-repeat: no-repeat;
	margin: -77px 0 0 -75px;
}

.buttons-excel {
	display: none;
}

.buttons-pdf {
	display: none;
}

.buttons-print {
	display: none;
}
    
    .multiselect {
    color: #495057 !important;
    background-color: #fff !important;
    border: 1px solid #ced4da !important;

    }
    .boxRowStyle{
	    margin: 0px 30px;
	    display: flex;
	    font-family: math;
    }
    
    .boxColStyle{
    	background-color: #f4bf80;
    	border-radius: 10px;
    	margin:0 20px;
    	padding: 10px 0;
    	box-shadow: rgba(0, 0, 0, 0.25) 0px 14px 28px, rgba(0, 0, 0, 0.22) 0px 10px 10px;
  	    border: none;
    } 
    
       #noreport{
	    display:flex;
		justify-content:center;
		align-items:center;
		height:50vh;
	    text-align: center;
	    font-style: oblique;
	    font-family: math;
	    font-size: -webkit-xxx-large;
    }
    
   .StdBlink {
    animation: blinker 1s linear infinite;
  }
  @keyframes blinker {
    50% {
      opacity: 0;
    }
  }
   button:focus {
   outline:none !important;
  }
    
</style>
</head>
<head lang="en" th:replace="header :: header"></head>
<body>
	<div id="overlay" style="display: none;">
		<div id="loader">
		<div style="font-size: 20px; padding-top:5%"><b>Please wait...</b>
		</div>
		</div>
	</div>
	<input type="hidden" th:value="${fromdate}" id="reloadfromdate">
	<input type="hidden" th:value="${todate}" id="reloadtodate">

	<div align="center" class=" mt-2">
		<h2 id="titletab" class="form_txt ">National Level MIS Report</h2>
		<!-- For Putting 8 Buttons as discussed   -->	
				 			<div class="row boxRowStyle justify-content-center align-item-center mt-4 mb-4">
						<button class="col-1 boxColStyle" id="revrptbtn" name="button-Group"  style="background: #f5d3ef;">
							 REVENUE <br> REPORTS
						</button>
						<button class="col-1 boxColStyle" name="button-Group"  id="dtyfrgnbtn" style="background: #dacaf5;;">
						  DUTY FOREGONE REPORTS
						</button>
						<button class="col-1 boxColStyle"  name="button-Group" id="volbtn"    style="background:#c1dbf5;;">
						  VOLUMETRIC OF ARTICLES HANDLED 
						</button>
						<button class="col-1 boxColStyle"  name="button-Group" id="qryrplybtn" style="background: #c4efe7;;">
						   QUERY AND REPLY RELATED REPORTS 
						</button>
						<button class="col-1 boxColStyle" name="button-Group"  id="baglvlbtn" style="background: #daf9d0;;">
						   BAG LEVEL <br> REPORTS 
						</button>
						<button class="col-1 boxColStyle" name="button-Group"  id="detnbtn" style="background: #f1e1a8;">
						 DETENTION RELATED REPORTS 
						</button>
						<button class="col-1 boxColStyle"  name="button-Group" id="commbtn" style="background: #ebc2aa;">
						  COMMERCIAL REPORTS 
						</button>
						<button class="col-1 boxColStyle"  name="button-Group" id="miscbtn" style="background: #edf1aa;;">
						  MISCELLANEOUS REPORTS 
						</button>
					</div> 

			<div id="reportdiv" style="display:none" >
						<label class="form_txt " for="birthday"> Select Report : </label> 
                     <select class="form_txt columnvalue" id="report" style="margin: 1%;">
                    
                    
                    <!-- Category of Reports for referance only
					
					Revenue- 8,9,26,27
					Duty Forgone-24
					Volumetric- 1,2,3,6,7,10,11,18,19,21
					QueryReply- 4,5,25
					BagLevel- 12,13,14,15
					Misc- 17,20
					Deten- 16
					Commer- 22,23
					
					 -->
					 	
                        <option selected>1. Total no of articles processed and cleared for the selected period (OOC Given)</option>
                        <option>2. Total no of Articles pending in various queues (OOC  not given articles)</option>
                        <option>3. Total no. of Article IDs received as EAD without PINCODE and mapped to this site</option>
                        <option>4. Total no of pending Articles for which Query is raised and status ( only for 1st query)</option>
                        <option>5. Total no of pending Articles for which more than one query is raised and status</option>
                        <option>6. Top IMPORTS - Mail Class- countries of Postal Imports at the FPO site for last month or any select period ( based on EAD data received for select period)</option>
                        <option>7. Top Imports - Item Category - countries of Postal Imports at the FPO site for last month or any select period - for Item Catgeories ( based on EAD data received for select period)</option>
                    	<option>8. Top Duty - countries of Postal Imports at the FPO Site for last month or any select period ( OOC given date )</option>
                    	<option>9. Top Duty - Mail Class - countries of Postal Imports at the FPO Site for last month or any select period ( OOC given date )</option>
                    	<option>10. Total no. of Articles given OOC during last month or any select period and Delivery status</option>
                    	<option>11. Articles given OOC during last month or any select period and Delivery status</option>
                    	<option>12. No. of Receptacle IDs processed at the OOE for last month or for any select period</option>
                    	<option>13. Receptacle IDs processed at the OOE for last month or for any select period</option>
                    	<option>14. No. of Bags processed at the FPO for last month or for any select period</option>
                    	<option>15. Bags processed at the FPO for last month or for any select period</option>
                    	<option>16. No of articles detained and processed during last month or for any select period</option>
                    	<option>17. Article Status - Enter Article/ Item ID</option>
                    	<option>18. No. of articles - OOC cancelled during last month or for any select period</option>
                    	<option>19. No. of Art/Item ID which are yet to arrive at FPO as on date</option>
                    	<option>20. List of Art/Item IDs processed by an officer for any select period (Enter SSOID and Roles) (OOC given articles)</option>
                    	<option>21. Total no. of Article IDs Received as EAD during the period (Countrywise / Mail-Classwise / Item-Categorywise)</option>
                    	<option>22. Total no.of Article IDs Pending in Commercial Queue </option>
						<option>23. List of Article IDs Processed under Commercial Imports</option>
						<option>24. Top Duty - countries of Postal Imports at the FPO Site for last month or any select period ( OOC given date ) with Notification Wise</option>
						<option>25. Query Reply Status</option>
                    	 <option>26. Top IMPORTS - Mail Class- countries of Postal Imports at the FPO site for last month or any select period ( based on EAD data received for select period) with delivery Status</option>
                        <option>27. Top Imports - Item Category - countries of Postal Imports at the FPO site for last month or any select period - for Item Catgeories ( based on EAD data received for select period) with delivery Status</option>
                    	
                     </select>
	</div>
	</div>
	<div  id="intialShow" style="flex:1;display:none;justify-content: center;" class="mt-2 mb-3">
	
	<!--     created a new div for dropdown of MailClass -->
	
	<div style="display: none;" id="mailclassdiv">
	<label class="form_txt " for="birthday"> Select Mail Class : </label> 
	<select  name="mailclass" title="Select Value..." multiple class="form-control multiselect" id="mailclass" >
                        
                        <option th:each="values: ${mailclass}"
                           th:value="${values}"
                           th:text="${values}" th:attr="data-name=${values}">option</option>
                     </select>
    </div>
    
<!--     created a new div for dropdown of FPO Site -->
    
    <div style="display: none;" id="fpositediv">
	<label class="form_txt " for="birthday" style="margin: auto;padding-left: 20px;padding-right: 10px"> Select FPO Site : </label> 
	<select  name="fposite" title="Select Value..." multiple class="form-control multiselect" id="fposite" >
                        
                        <option th:each="values: ${fpositecat}"
                           th:value="${values}"
                           th:text="${values}" th:attr="data-name=${values}">option</option>
                     </select>
    </div>
    
    
    
                   
    <div style="display: none;" id="itemcatdiv"> 
     <label class="form_txt ml-2" for="birthday"> Select Item Category : </label> 
                     <select  name="itemcat" title="Select Value..." multiple class="form-control multiselect" id="itemcat" >
                        
                        <option th:each="values: ${itemcat}"
                           th:value="${values}"
                           th:text="${values}" th:attr="data-name=${values}">option</option>
                     </select>
	</div>
	
		<div style="display: none;" id="ssodiv"> 
	<!-- <div>
		<lable 
				style="vertical-align: -webkit-baseline-middle;font-weight: 500;color: blue;">List of Art/Item IDs processed by an officer for any select period (Enter SSOID and Roles) (OOC given articles)
		</lable>
	</div> -->

 
<label class="form_txt ml-2 mt-2" for="birthday">Enter SSOID :</label> 
			<input id="ssoid" type="text" th:value="${ssoid == 'undefined' ? '' : ssoid}" class="form_txt" maxlength="8" onkeypress="return isNumberKey(event)"></input>



		</div>
	</div>
	
	<div id="main" class="dateShow" style="display:none;margin: 0 1.25rem;">
			<div class="row pl-5  mt-2 datesel" id="toshow" style="justify-content:center">
			<div class="col-12 d-flex justify-content-center align-items-center">
		
			<form class="form-horizontal reset" autocomplete="off"
				th:action="@{/reportdatechange}" th:object="${report}" method="post"
				id="getreportlistform">
				<div class="row dateForm" >
					<div style="display: -webkit-box;">
					<div style="display: flex;flex-direction: column;align-items: center;justify-content: center;margin-top: 8px;">
						<span class="form_txt " style="margin-top: 2px;"> Date Range :</span>
						<span class="" id="daterange" style="font-size:15px;"> (based on posting date) </span>
					</div>
						<label class="form_txt p-2" for="birthday"> From : </label> 
						 <input
							class="picker form-control form_txt change " type="text"
							name="fromdate" readonly id="fromdate"
							style="display: inline; width: auto;">
						 
							
					</div>
					<div class="pl-5">
						<label class="pl-5 form_txt " for="birthday">To : </label> <input
							class="picker form-control form_txt change" type="text"
							name="todate" readonly id="todate"
							style="display: inline; width: auto;">
					</div>
				</div>
			</form>
			<div class="pl-5 "style="margin-bottom: 10px;" >
            <button id="runquery" class="btn btn-info" style="font-size:22px" onclick=runquery(0)>Run Query</button>
         </div>
		
		</div>
	
		</div>

		<div id="queryQueueshow" class="col-md-12">
		
		
	 	<div id="namediv">
		<label 
				style="vertical-align: -webkit-baseline-middle;font-weight: 500;color: blue;">List of Art/Item IDs processed by an officer for any select period (Enter SSOID and Roles) (OOC given articles)</label>
	</div> 
		
		
		<div class="row mb-3">
		<div align="left" class="col-md-6" >
			<lable style="vertical-align: -webkit-baseline-middle;font-weight: 1000;color: navy;">Total No Of Articles Processed : <span style="background-color: rgb(239 239 239);color: black;border: none;padding: 2px 12px 3px 12px;text-decoration: none;font-weight: 600;cursor: default;" th:text="${processed}"></span></lable>
			
		</div>
		<div align="right" class="col-md-6" >
			<lable style="vertical-align: -webkit-baseline-middle;font-weight: 1000;color: navy;">Total No Of Articles Cleared : <span style="background-color: rgb(239 239 239);color: black;border: none;padding: 2px 12px 3px 12px;text-decoration: none;font-weight: 600;cursor: default;" th:text="${cleared}"></span></lable>
			
		</div>
		</div>
			
			<table id="processtable"
				class="table table-striped table-bordered newtable"
				style="font-size: 16px; text-align: center; width: 100%;">
				<thead style="background-color: #a1c4e6;">
					<tr>
						<th scope="col" id="sinid" style="width: 45px;">Sl.No.</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">Article Id</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">FPO SITE</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">Posting Date</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">Country Of Origin</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">Mail Class</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">Item Category</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">No.of Items</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">Total Assessed Value</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">BCD Amount</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">IGST Amount</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">SW Amount</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">Other Duty</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">Total Duty</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">Duty FG</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">Duty Amount Charged</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">OOC Date</th>
						<th class="tablecolumn" scope="col" style="text-align: center;">Delivery Date</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="values: ${reportcolumns}" class="">
						<td class="tablecolumn" th:text="${values.id}"></td>
						<td class="tablecolumn" th:text="${values.cussite}"></td>
						<td class="tablecolumn" th:text="${values.item_id}"></td>
						<td class="tablecolumn" th:text="${values.post_dt}"></td>
						<td class="tablecolumn" th:text="${values.coo}"></td>
						<td class="tablecolumn" th:text="${values.mail_class}"></td>
						<td class="tablecolumn" th:text="${values.item_category}"></td>
						<td class="tablecolumn" th:text="${values.noofitem}"></td>
						<td class="tablecolumn" th:text="${values.totassval}"></td>
						<td class="tablecolumn" th:text="${values.bcd_amt}"></td>
						<td class="tablecolumn" th:text="${values.igst_amt}"></td>
						<td class="tablecolumn" th:text="${values.sw_amt}"></td>
						<td class="tablecolumn" th:text="${values.other_duty}"></td>
						<td class="tablecolumn" th:text="${values.totduty}"></td>
						<td class="tablecolumn" th:text="${values.dutyfg}"></td>
						<td class="tablecolumn" th:text="${values.dutycharged}"></td>
						<td class="tablecolumn" th:text="${values.oocdt}"></td>
						<td class="tablecolumn" th:text="${values.deldt}"></td>
					</tr>
				</tbody>
			</table>
		</div>

	</div> 
		<div id="noreportdiv" style="display:none">
	<h2 id="noreport" class="StdBlink">  Please Choose the dates and Click RunQuery To display the Data</h2>
	</div>
	 <small id="reportcat" class="form-text text-muted smalltexthelp" style="color: blue !important;margin-left:2%"><span style="color: red;">**</span>
	        Note : Please Choose the Report Category by Clicking on it.</small> 
	


	<script th:inline="javascript">
	
	
	
var buttonName
var consoleButton

$(document).ready(function (){

$('.boxRowStyle .boxColStyle').click(function() {

	buttonName = $(this).attr('name');
	
	if(buttonName === 'button-Group'){
		$("#reportdiv").css("display", "block");
		$("#intialShow").css("display", "flex");
		$(".dateShow").css("display", "block");
		$("#reportcat").css("display", "none");
	} else {
		$("#reportdiv").css("display", "none");
		$("#intialShow").css("display", "none");
		$(".dateShow").css("display", "none");
		$("#reportcat").css("display", "block");
	}
	
	consoleButton = console.log(buttonName)
	runquery(1);
});

});

console.log(buttonName)
console.log(consoleButton)




$('#revrptbtn').click(function() {
  $('#report').empty().append(
    $('<option>').text('1. Top Duty - countries of Postal Imports at the FPO Site for last month or any select period ( OOC given date )'),
    $('<option>').text('2. Top Duty - Mail Class - countries of Postal Imports at the FPO Site for last month or any select period ( OOC given date )'),
    $('<option>').text('3. Top Duty - countries of Postal Imports at the FPO Site for last month or any select period ( OOC given date ) with Delivery Status'),
    $('<option>').text('4. Top Duty - Mail Class - countries of Postal Imports at the FPO Site for last month or any select period ( OOC given date ) with Delivery Status'),
    
    
    );
});
$('#dtyfrgnbtn').click(function() {
  $('#report').empty().append(
    $('<option>').text('1. Duty-Forgone - countries of Postal Imports at the FPO Site for last month or any select period ( OOC given date ) with Notification Wise'),
     );
});
$('#volbtn').click(function() {
  $('#report').empty().append(
    $('<option>').text('1. Total no of articles processed and cleared for the selected period (OOC Given)'),
    $('<option>').text('2. Total no of Articles pending in various queues (OOC  not given articles)'),
    $('<option>').text('3. Total no. of Article IDs received as EAD without PINCODE and mapped to this site'),
    $('<option>').text('4. Total no. of Articles given OOC during last month or any select period and Delivery status'),
    $('<option>').text('5. Articles given OOC during last month or any select period and Delivery status'),
    $('<option>').text('6. Top IMPORTS - Mail Class- countries of Postal Imports at the FPO site for last month or any select period ( based on EAD data received for select period)'),
    $('<option>').text('7. Top Imports - Item Category - countries of Postal Imports at the FPO site for last month or any select period - for Item Catgeories ( based on EAD data received for select period)'),
    $('<option>').text('8. No. of articles - OOC cancelled during last month or for any select period'),
    $('<option>').text('9. No. of Art/Item ID which are yet to arrive at FPO as on date'),
    $('<option>').text('10. Total no. of Article IDs Received as EAD during the period (Countrywise / Mail-Classwise / Item-Categorywise)'),	
    );
});
$('#qryrplybtn').click(function() {
  $('#report').empty().append(
    $('<option>').text('1. Total no of pending Articles for which Query is raised and status ( only for 1st query)'),
    $('<option>').text('2. Total no of pending Articles for which more than one query is raised and status'),
    $('<option>').text('3. Query Reply Status'),
    );
});
$('#baglvlbtn').click(function() {
  $('#report').empty().append(
    $('<option>').text('1. No. of Receptacle IDs processed at the OOE for last month or for any select period'),
    $('<option>').text('2. Receptacle IDs processed at the OOE for last month or for any select period'),
    $('<option>').text('3. No. of Bags processed at the FPO for last month or for any select period'),
    $('<option>').text('4. Bags processed at the FPO for last month or for any select period'),
    );
});

$('#miscbtn').click(function() {
  $('#report').empty().append(
    $('<option>').text('1. Article Status - Enter Article/ Item ID'),
    $('<option>').text('2. List of Art/Item IDs processed by an officer for any select period (Enter SSOID and Roles) (OOC given articles)'),
  
    );
});
$('#detnbtn').click(function() {
  $('#report').empty().append(
    $('<option>').text('1. No of articles detained and processed during last month or for any select period'),
 
    );
});
$('#commbtn').click(function() {
  $('#report').empty().append(
    $('<option>').text('1. Total no.of Article IDs Pending in Commercial Queue'),
    $('<option>').text('2. List of Article IDs Processed under Commercial Imports'),
  
    );
});
function isNumberKey(evt) {
    var charCode = (evt.which) ? evt.which : event.keyCode;
    if (charCode > 31 && (charCode < 48 || charCode > 57)) {
        return false;
    }
    return true;
}
  var fromdate=$("#reloadfromdate").val();
         var todate=$("#reloadtodate").val();
         function isNumberKey(evt) {
    var charCode = (evt.which) ? evt.which : event.keyCode;
    if (charCode > 31 && (charCode < 48 || charCode > 57)) {
        return false;
    }
    return true;
}
         
      </script>
	<script th:src="@{js/report/misreportmain.js}"></script>
</body>
</html>